mainが終了すると、mainのスタック領域の中にあるbufが開放されてしまい、
他のスレッドが書き換えてしまう可能性がある。
mallocを使うとヒープ領域に確保するためよさそう。
